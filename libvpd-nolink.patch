--- libvpd-2.1.2/src/helper_functions.cpp.orig	2010-10-21 01:53:41.000000000 +0200
+++ libvpd-2.1.2/src/helper_functions.cpp	2011-05-03 10:46:27.513059765 +0200
@@ -157,6 +157,8 @@
 		buf = strdup(symLinkPath.c_str());
 		int len = readlink(buf, linkTarget, sizeof(
 			linkTarget));
+		if(len < 0)
+			return "";
 		linkTarget[len] = '\0';
 		return string(getAbsolutePath(linkTarget, buf));
 	}
